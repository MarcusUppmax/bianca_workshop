
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../modules1/">
      
      
        <link rel="next" href="../naiss-sens-bianca/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.1">
    
    
      
        <title>Transfering files to/from Bianca - Bianca workshop</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.402914a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Lato";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#how-does-it-work" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Bianca workshop" class="md-header__button md-logo" aria-label="Bianca workshop" data-md-component="logo">
      
  <img src="../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Bianca workshop
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Transfering files to/from Bianca
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../practicalities/" class="md-tabs__link">
      Practicalities
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../login_bianca/" class="md-tabs__link md-tabs__link--active">
        Getting Started
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../naiss-sens-bianca/" class="md-tabs__link">
      NAISS-SENS and sensitive data
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../slurm-intro/" class="md-tabs__link">
        The compute nodes and install yourself
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../slurm/" class="md-tabs__link">
        Extra material
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Bianca workshop" class="md-nav__button md-logo" aria-label="Bianca workshop" data-md-component="logo">
      
  <img src="../assets/logo.svg" alt="logo">

    </a>
    Bianca workshop
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../practicalities/" class="md-nav__link">
        Practicalities
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../login_bianca/" class="md-nav__link">
        Logging into Bianca
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../linux/" class="md-nav__link">
        Command-line intro
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../modules1/" class="md-nav__link">
        Module system
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Transfering files to/from Bianca
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Transfering files to/from Bianca
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-does-it-work" class="md-nav__link">
    How does it work?
  </a>
  
    <nav class="md-nav" aria-label="How does it work?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-wharf" class="md-nav__link">
    The Wharf
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-transfers" class="md-nav__link">
    Data transfers:
  </a>
  
    <nav class="md-nav" aria-label="Data transfers:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-wharf-location" class="md-nav__link">
    The wharf location
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#first-steps" class="md-nav__link">
    First steps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-standard-sftp-client-commandline" class="md-nav__link">
    Using standard sftp client (commandline)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#some-other-sftp-client" class="md-nav__link">
    Some other sftp client
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mounting-the-sftp-server-with-sshfs-on-you-local-machine" class="md-nav__link">
    Mounting the sftp-server with sshfs on you local machine
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bulk-recursive-transfer-with-only-standard-sftp-client" class="md-nav__link">
    Bulk recursive transfer with only standard sftp client
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#binbash" class="md-nav__link">
    !/bin/bash
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sftp-uploadsh" class="md-nav__link">
    sftp-upload.sh
  </a>
  
    <nav class="md-nav" aria-label="sftp-upload.sh">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#transit" class="md-nav__link">
    Transit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ngi-deliver" class="md-nav__link">
    NGI Deliver
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../naiss-sens-bianca/" class="md-nav__link">
        NAISS-SENS and sensitive data
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          The compute nodes and install yourself
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          The compute nodes and install yourself
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../slurm-intro/" class="md-nav__link">
        Module system (continued) and Slurm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../install/" class="md-nav__link">
        Software installation without internet connection
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Extra material
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Extra material
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../slurm/" class="md-nav__link">
        More about Slurm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../conda/" class="md-nav__link">
        Conda
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pip/" class="md-nav__link">
        Install with pip to Bianca
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rpackages/" class="md-nav__link">
        Installing R packages on Bianca
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../julia/" class="md-nav__link">
        Using Julia packages on Bianca
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../jupyter/" class="md-nav__link">
        Running Jupyter on Bianca
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../containers/" class="md-nav__link">
        Using containers on Bianca
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-does-it-work" class="md-nav__link">
    How does it work?
  </a>
  
    <nav class="md-nav" aria-label="How does it work?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-wharf" class="md-nav__link">
    The Wharf
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-transfers" class="md-nav__link">
    Data transfers:
  </a>
  
    <nav class="md-nav" aria-label="Data transfers:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-wharf-location" class="md-nav__link">
    The wharf location
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#first-steps" class="md-nav__link">
    First steps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-standard-sftp-client-commandline" class="md-nav__link">
    Using standard sftp client (commandline)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#some-other-sftp-client" class="md-nav__link">
    Some other sftp client
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mounting-the-sftp-server-with-sshfs-on-you-local-machine" class="md-nav__link">
    Mounting the sftp-server with sshfs on you local machine
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bulk-recursive-transfer-with-only-standard-sftp-client" class="md-nav__link">
    Bulk recursive transfer with only standard sftp client
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#binbash" class="md-nav__link">
    !/bin/bash
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sftp-uploadsh" class="md-nav__link">
    sftp-upload.sh
  </a>
  
    <nav class="md-nav" aria-label="sftp-upload.sh">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#transit" class="md-nav__link">
    Transit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ngi-deliver" class="md-nav__link">
    NGI Deliver
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<div class="admonition info">
<p class="admonition-title">Objectives</p>
<ul>
<li>We'll go through the methods to tranfer files</li>
<li>wharf</li>
<li>transit server</li>
<li>rsync, scp/sftp</li>
<li>pros/cons of different solutions</li>
</ul>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>It is important to keep the entire chain of transfering the data secure</p>
</div>
<h2 id="how-does-it-work">How does it work?<a class="headerlink" href="#how-does-it-work" title="Anchor link to this section for reference">&para;</a></h2>
<p><img alt="Bianca" src="../img/biancaorganisation-01.png" /></p>
<h3 id="the-wharf">The Wharf<a class="headerlink" href="#the-wharf" title="Anchor link to this section for reference">&para;</a></h3>
<div class="admonition info">
<p class="admonition-title">Wharf is a harbour dock</p>
<ul>
<li>The Wharf area can be reached from both Bianca and any other place on Bianca.</li>
<li>Therefore it serves as a bridge between Internet and Bianca.</li>
</ul>
</div>
<h2 id="data-transfers">Data transfers:<a class="headerlink" href="#data-transfers" title="Anchor link to this section for reference">&para;</a></h2>
<ul>
<li><a href="https://www.uppmax.uu.se/support/user-guides/bianca-user-guide/">https://www.uppmax.uu.se/support/user-guides/bianca-user-guide/</a> <ul>
<li>section 3: Transfer files to and from Bianca</li>
</ul>
</li>
</ul>
<h3 id="the-wharf-location">The wharf location<a class="headerlink" href="#the-wharf-location" title="Anchor link to this section for reference">&para;</a></h3>
<ul>
<li>
<p>The path to this folder, once you are logged into your project's cluster, is:</p>
<p>/proj/<projid>/nobackup/wharf/<username>/<username>-<projid>
E.g.
/proj/sens2016999/nobackup/wharf/myuser/myuser-sens2016999</p>
</li>
<li>
<p>To transfer data from Bianca, copy the files you want to transfer here</p>
</li>
<li>
<p>To get the files transfered to the wharf area from outside, move the files to you project folde or home folder.</p>
</li>
<li>
<p>Please note that in the wharf you only have access to upload your files to the directory that is named:
   <username>-<projid>
   e.g.
   myuser-sens2016999</p>
</li>
</ul>
<h2 id="_1"><a class="headerlink" href="#_1" title="Anchor link to this section for reference">&para;</a></h2>
<p>b.  Second step is from a computer outside of Bianca. 
c.  Using standard sftp client
d.  Some other sftp client
e.  Mounting the sftp-server with sshfs
f.  Bulk recursive transfer with only standard sftp client
g.  Transit Server</p>
<h2 id="first-steps">First steps<a class="headerlink" href="#first-steps" title="Anchor link to this section for reference">&para;</a></h2>
<h2 id="using-standard-sftp-client-commandline">Using standard sftp client (commandline)<a class="headerlink" href="#using-standard-sftp-client-commandline" title="Anchor link to this section for reference">&para;</a></h2>
<div class="highlight"><pre><span></span><code>$ sftp -q &lt;username&gt;-&lt;projid&gt;@bianca-sftp.uppmax.uu.se
Ex.
$ sftp -q myuser-sens2016999@bianca-sftp.uppmax.uu.se
</code></pre></div>
<p>Notice the different host name!</p>
<p>The -q flag is to be quiet (not showing the banner intended to help someone trying to ssh to the host), if your client does not support it, you can just skip it.</p>
<p>As password you use your normal UPPMAX password directly followed by
the six digits from the second factor application from step 1.</p>
<p>Ex. if your password is "VerySecret" and the second factor code is 123 456 you would type VerySecret123456 as the password in this step.</p>
<p>Once connected you will have to type the sftp commands to upload/download files. Have a look at the Basic SFTP commands guide to get started with it.</p>
<p>Please note that in the wharf you only have access to upload your files to the directory that is named:</p>
<p><username>-<projid>
e.g.
myuser-sens2016999</p>
<p>so you will want to cd to that directory the first thing you do.</p>
<p>sftp&gt; cd myuser-sens2016999</p>
<p>Alternatively, you can specify this at the end of the sftp command, so that you will always end up in the correct folder directly.</p>
<p>$ sftp -q <username>-<projid>@bianca-sftp.uppmax.uu.se:<username>-<projid>
E.g.
$ sftp -q myuser-sens2016999@bianca-sftp.uppmax.uu.se:myuser-sens2016999</p>
<p>sftp supports a recursive flag (put -r), but it seems to be very sensitive to combinations of different sftp servers and clients, so be warned... a bit further down you can see a rough solution for bulk transfers.</p>
<h2 id="some-other-sftp-client">Some other sftp client<a class="headerlink" href="#some-other-sftp-client" title="Anchor link to this section for reference">&para;</a></h2>
<p>Please notice that sftp is NOT the same as scp. So be sure to really use a sftp client -- not just a scp client.</p>
<p>Also be aware that many sftp clients use reconnects (with a cached version of your password). This will not work for Bianca, because of the second factor! And some try to use multiple connections with the same password, which will fail.</p>
<p>So for example with lftp, you need to "set net:connection_limit 1". lftp may also defer the actual connection until it's really required unless you end your connect URL with a path.</p>
<p>An example command line for lftp would be</p>
<p>lftp sftp://<username>-<projname>@bianca-sftp.uppmax.uu.se/<username>-<projname>/</p>
<h2 id="mounting-the-sftp-server-with-sshfs-on-you-local-machine">Mounting the sftp-server with sshfs on you local machine<a class="headerlink" href="#mounting-the-sftp-server-with-sshfs-on-you-local-machine" title="Anchor link to this section for reference">&para;</a></h2>
<p><strong>Mount the wharf on your machine</strong></p>
<ul>
<li>This is only possible on your own system. </li>
<li>sshfs allows you to mount the wharf on your own machine. </li>
<li>You will be able to copy and work on the data using your own local tools such as cp or vim. </li>
<li>Remember that you are neither logged in on the distant server, nor is the data physically on your local disk (until you have copied it).</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>UPPMAX doesn't have sshfs client package installed for security reasons. sshfs is available on most Linux distributions: install the package sshfs on Ubuntu, fuse-sshfs on Fedora, RHEL7/CentOS7 (enable EPEL repository) and RHEL8 (enable codeready-builder repository) / CentOS8 (enable powertools repository).    </p>
</div>
<h2 id="bulk-recursive-transfer-with-only-standard-sftp-client">Bulk recursive transfer with only standard sftp client<a class="headerlink" href="#bulk-recursive-transfer-with-only-standard-sftp-client" title="Anchor link to this section for reference">&para;</a></h2>
<ul>
<li>It seems to be rather common with directory structures with symbolic links inside the directories that you should transfer. </li>
<li>This is a very simple solution to copy everything in a specific folder (and follow symbolic links) to the wharf.</li>
</ul>
<p>==============
~/sftp-upload.sh
==============</p>
<h1 id="binbash">!/bin/bash<a class="headerlink" href="#binbash" title="Anchor link to this section for reference">&para;</a></h1>
<h1 id="sftp-uploadsh">sftp-upload.sh<a class="headerlink" href="#sftp-uploadsh" title="Anchor link to this section for reference">&para;</a></h1>
<p>find $<em> -type d | awk '{print "mkdir","\""$0"\""}' 
find $</em> -type f | awk '{print "put","\""$0"\"","\""$0"\"" }' 
find $* -type l | awk '{print "put","\""$0"\"","\""$0"\"" }' </p>
<hr />
<p>With this script you can do:</p>
<p>cd /home/myuser/glob/testing/nobackup/somedata
~/sftp-upload.sh *|sftp -oBatchMode=no -b- <username>-<projid>@bianca-sftp.uppmax.uu.se:<username>-<projid></p>
<p>The special "-b" makes the script stop on error.</p>
<h2 id="transit">Transit<a class="headerlink" href="#transit" title="Anchor link to this section for reference">&para;</a></h2>
<p><strong>Recommended way from Rackham?</strong>
- To facilitate secure data transfers to, from and within the system for computing on sensitive data (bianca/castor) a service is available via ssh at transit.uppmax.uu.se.
- You can connect to transit via ssh. Once connected, you should see a short help message. The most important thing there is the
mount_wharf command
which you can use to mount a project from the bianca wharf</p>
<p>*<em>More...</em></p>
<h2 id="ngi-deliver">NGI Deliver<a class="headerlink" href="#ngi-deliver" title="Anchor link to this section for reference">&para;</a></h2>
<ul>
<li>Not covered here but </li>
<li>https://www.uppmax.uu.se/support/user-guides/deliver-user-guide/</li>
<li>https://www.uppmax.uu.se/support/user-guides/grus-user-guide/</li>
</ul>
<div class="admonition abstract">
<p class="admonition-title">keypoints</p>
<ul>
<li>The "WHARF" works like a dock at the harbour.</li>
<li>There are several ways to use the wharf to tranfer files<ul>
<li>copy</li>
<li>transit server</li>
<li>rsync, scp/sftp</li>
</ul>
</li>
</ul>
</div>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
      </main>
      
        <footer class="md-footer">
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div >
        <h2>Contact UPPMAX</h2>
        <div>
          <ul>
            <li>Support: <a href="mailto:support@uppmax.uu.se">support@uppmax.uu.se</a></li>
          </ul>
        </div>
      </div>
      <div >
        <h2>Visit UPPMAX</h2>
        <div>
          <ul>
            <li>Floor 3, House 10, &Aring;ngstr&ouml;m Laboratory</li>
            <li>L&auml;gerhyddsv&auml;gen 1</li>
            <li>752 37 Uppsala</li>
          </ul>
        </div>
      </div>
      <div>
      </div>
    </div>
  </div>

</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "search.suggest", "content.code.annotate", "content.tabs.link"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.b78d2936.min.js"></script>
      
    
  </body>
</html>